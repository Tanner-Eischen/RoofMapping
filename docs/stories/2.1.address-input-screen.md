# Story 2.1: Address Input Screen (Screen 1)

## Status
Draft

## Story
**As a** contractor
**I want** to enter a property address with autocomplete
**So that** I can quickly start a roof analysis

## Acceptance Criteria
- [ ] Address input page implemented (`app/page.tsx`)
- [ ] Google Maps Places Autocomplete integrated
- [ ] Input validation (must select from autocomplete)
- [ ] Error states displayed for invalid addresses
- [ ] "Analyze Roof" button enabled only when valid address selected
- [ ] Navigation to processing screen on submission
- [ ] Mobile-responsive (matches UX spec exactly)
- [ ] Accessibility: ARIA labels, keyboard navigation

## Tasks / Subtasks
- [ ] Implement `app/page.tsx` layout and form (AC: 1)
- [ ] Create `AddressInput` and `PlaceAutocomplete` components (AC: 2)
- [ ] Enforce selection-only validation (AC: 3)
- [ ] Add error state UX and messaging (AC: 4)
- [ ] Disable/enable button based on validity (AC: 5)
- [ ] Route to `/analyze` with payload (AC: 6)
- [ ] Apply mobile-first responsive styles (AC: 7)
- [ ] Add ARIA labels and keyboard support (AC: 8)

## Dev Notes
- Component architecture: [../architecture/frontend-architecture.md#component-architecture](../architecture/frontend-architecture.md#component-architecture)
- Routing: [../architecture/frontend-architecture.md#routing](../architecture/frontend-architecture.md#routing)
- API service layer: [../architecture/frontend-architecture.md#api-service-layer](../architecture/frontend-architecture.md#api-service-layer)
- Styling system: [../architecture/frontend-architecture.md#styling-system](../architecture/frontend-architecture.md#styling-system)
- PRD traceability: [../prd/12-epic-and-story-structure.md#story-21-address-input-screen-screen-1](../prd/12-epic-and-story-structure.md#story-21-address-input-screen-screen-1), [../prd/6-functional-requirements.md#p0-must-have](../prd/6-functional-requirements.md#p0-must-have)

## Dependencies
- 1.1 Project initialization & base config completed
- 1.4 Environment configuration (API keys for Google Places)
- 3.1 Analysis submission endpoint available

## Estimate
M (medium)

## Priority
P0 (must-have per PRD functional requirements)

## Assumptions
- Valid Google API key is configured in `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY`.
- Autocomplete returns structured address components (place_id, lat/lng).
- Network latency is acceptable for autocomplete (<300ms typical).

## Edge Cases
- No autocomplete match found; user typed free text.
- Rate limited or API error from Google Places.
- Invalid lat/lng or incomplete address components returned.

### Testing
- Unit: validate input component behavior (enable/disable analyze button)
- Integration: simulate Google Places responses (success, no results, rate limit)
- E2E: enter address → submit → navigates to `/analyze` reliably
- Performance: first input interaction and autocomplete suggestion list under 300ms

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-13 | v1 | Initial draft created | Scrum Master |

## Dev Agent Record
- Agent Model Used: 
- Debug Log References: 
- Completion Notes List: 
- File List: 

## QA Results
- Pending