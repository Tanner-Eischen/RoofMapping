# Story 2.3: Results Screen (Screen 3a)

## Status
Draft

## Story
**As a** contractor
**I want** to view detailed roof measurements and export them
**So that** I can use the data for my bids

## Acceptance Criteria
- [ ] Results page implemented (`app/results/page.tsx`)
- [ ] Display all measurements from API (area, perimeter, pitch, slope)
- [ ] Complexity indicator with progress bar
- [ ] Feature count display (vents, chimneys, etc.)
- [ ] Accuracy indicators (Â±3% notation)
- [ ] Satellite image display
- [ ] Share button with native share API (mobile) or copy link (desktop)
- [ ] Export PDF button (client-side generation)
- [ ] Mobile-responsive grid layout
- [ ] Loading states for images
- [ ] Error handling for missing analysis

## Tasks / Subtasks
- [ ] Implement `app/results/page.tsx` and guard for `id` (AC: 1)
- [ ] Render measurement cards and indicators (AC: 2-5)
- [ ] Show satellite imagery and loading states (AC: 6, 10)
- [ ] Add share and PDF export actions (AC: 7-8)
- [ ] Responsive grid layout per UX (AC: 9)
- [ ] Handle missing analysis errors (AC: 11)

## Dev Notes
- Measurement components and grid: [../architecture/frontend-architecture.md#component-architecture](../architecture/frontend-architecture.md#component-architecture)
- Routing guard pattern: [../architecture/frontend-architecture.md#routing](../architecture/frontend-architecture.md#routing)
- API service layer: [../architecture/frontend-architecture.md#api-service-layer](../architecture/frontend-architecture.md#api-service-layer)
- PRD traceability: [../prd/12-epic-and-story-structure.md#story-23-results-screen-screen-3a](../prd/12-epic-and-story-structure.md#story-23-results-screen-screen-3a)

## Dependencies
- 3.3 Results retrieval endpoint
- 4.5 Measurement calculation engine
- 1.3 Redis caching layer (for fast loads)

## Estimate
L (large)

## Priority
P0

## Assumptions
- API provides complete measurement set and imagery URLs.
- Client has permission to access image assets.
- PDF export is client-side and performant for typical payloads.

## Edge Cases
- Missing or incomplete analysis data; show error and recovery.
- Large images cause slow load; ensure lazy loading and placeholders.
- PDF export fails; provide retry and error messaging.

### Testing
- Unit: measurement components rendering and formatting.
- Integration: results fetch, cache-first behavior, error handling.
- E2E: share/export flows on mobile and desktop.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-13 | v1 | Initial draft created | Scrum Master |

## Dev Agent Record
- Agent Model Used: 
- Debug Log References: 
- Completion Notes List: 
- File List: 

## QA Results
- Pending