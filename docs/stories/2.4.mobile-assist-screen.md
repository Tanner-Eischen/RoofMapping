# Story 2.4: Mobile Assist Screen (Screen 3b)

## Status
Completed

## Story
**As a** contractor
**I want** to capture supplementary photos when satellite data is insufficient
**So that** I can still get accurate measurements

## Acceptance Criteria
- [x] Mobile assist page implemented (`app/assist/page.tsx`)
- [x] Explanation of why photos needed (low confidence)
- [x] Three photo guides: front, left side, right side
- [x] Camera modal with guidance overlay
- [x] Photo preview after capture
- [x] Re-take functionality
- [x] Submit button enabled when all 3 photos captured
- [x] Loading state during photo upload
- [x] Navigate to results after enhanced processing
- [x] Image compression before upload (max 1920px, 85% quality)

## Tasks / Subtasks
- [x] Implement `/assist` page and guidance copy (AC: 1-2)
- [x] Build camera modal with overlay (AC: 3-4)
- [x] Add photo preview and retake (AC: 5-6)
- [x] Enable submit on 3 photos and upload flow (AC: 7-8)
- [x] Navigate to results post-processing (AC: 9)
- [x] Compress images before upload (AC: 10)

## Dev Notes
- Camera components and guides: [../architecture/frontend-architecture.md#component-architecture](../architecture/frontend-architecture.md#component-architecture)
- API service layer (upload): [../architecture/frontend-architecture.md#api-service-layer](../architecture/frontend-architecture.md#api-service-layer)
- Backend upload route: [../architecture/backend-architecture.md#api-routes-architecture](../architecture/backend-architecture.md#api-routes-architecture)
- PRD traceability: [../prd/12-epic-and-story-structure.md#story-24-mobile-assist-screen-screen-3b](../prd/12-epic-and-story-structure.md#story-24-mobile-assist-screen-screen-3b)

## Dependencies
- 3.4 Photo upload endpoint
- 3.3 Results retrieval endpoint (post-processing navigation)
- 1.4 Environment configuration (upload limits)

## Estimate
M (medium)

## Priority
P1 (important but secondary to core flow)

## Assumptions
- Device has camera capability and permission.
- Upload size and format constraints are documented and enforced.
- Post-processing updates status to completed reliably.

## Edge Cases
- User denies camera permission; provide alternative upload.
- Slow network causing long upload times; show progress and retry.
- Image compression introduces artifacts; tune quality settings.

### Testing
- E2E: capture → preview → upload → navigate to results on completion.
- Reliability: retries for failed uploads; resume on network recovery.
- UX: guidance overlays and validation for 3 required photos.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-13 | v1 | Initial draft created | Scrum Master |

## Dev Agent Record
- Agent Model Used: 
- Debug Log References: 
- Completion Notes List: 
- File List: 

## QA Results
- Pending